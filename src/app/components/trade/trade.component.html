<app-nav></app-nav>
<header>
    <div>
      <h1>Buy & Sell</h1>
    </div>
</header>
<div style="margin: auto;"><label>Trade Type: &nbsp;
    <select [(ngModel)]="direction" (ngModelChange)="getBuyOrSellTrade()">
        <option value = "BUY">BUY</option>
        <option value = "SELL">SELL</option>
    </select>
</label></div>
<div *ngIf="direction == 'BUY'">
    <label style="text-align: left; margin-right: 550px;">Category &nbsp;
    <select [(ngModel)]="instrumentType" (ngModelChange)="filterPrices()">
        <option value="ALL" selected>ALL</option>
        <option value="CD">CD</option>
        <option value="GOVT">GOV</option>
        <option value="STOCK">STOCK</option>
    </select></label>
    <span style="text-align: right;"> Your Balance: {{balance|currency}}</span>
    


<table>
    <tr>
        <th>External ID</th>
        <th>Instrument Description</th>
        <th>Min Qty.</th>
        <th>Max Qty.</th>
        <th>Bid Price</th>
        <th>Control</th>
    </tr>
    <tr *ngFor="let price of prices">
        <td>{{price.instrument.externalId}}</td>
        <td>{{price.instrument.instrumentDescription}}</td>
        <td>{{price.instrument.minQuantity}}</td>
        <td>{{price.instrument.maxQuantity}}</td>
        <td>{{price.bidPrice}}</td>
        <td><button class="buy-btn" (click)="buy(price)">Buy</button></td>
    </tr>
</table>
</div>
<div *ngIf="direction == 'SELL'" style="margin: 40px;">


    <span>Your Balance: {{balance | currency}}</span>
    


<table>
    <tr>
        <th>External ID</th>
        <th>Instrument Description</th>
        <th>Ask Price</th>
        <th>currentHoldings</th>
        <th>Control</th>
    </tr>
    <tr *ngFor="let portfolioMem of portfolio">
        <td>{{portfolioMem.externalId}}</td>
        <td>{{portfolioMem.instrumentDescription}}</td>
        <td>{{portfolioMem.askPrice | currency}}</td>
        <td>{{portfolioMem.currentHoldings}}</td>
        
        <td><button class="sell-btn" (click) = "sell(portfolioMem)">SELL</button></td>
    </tr>
</table>
</div>


<!-- <div *ngIf="toBuy != undefined">Buy Form</div> -->
