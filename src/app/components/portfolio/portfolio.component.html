<app-nav [email]='email'></app-nav>

<div class="portfolio-container" >
    <header>
        <div class="slide-from-left">
          <h1>My Portfolio</h1>
        </div>
      </header>
    <table>
        <thead>
          <tr>
            <th>External Type</th>
            <th>External ID</th>
            <th>Category</th>
            <th>Price Timestamp</th>
            <th>Instrument Description</th>
            <th>Ask Price $</th>
            <th>Bid Price $</th>
            <th>Profit / Loss %</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let portfolio of portfolios">
            <td>{{ portfolio.externalType }}</td>
            <td>{{ portfolio.externalId }}</td>
            <td>{{ portfolio.categoryId }}</td>
            <td>{{ portfolio.priceTimestamp | date }}</td>
            <td>{{ portfolio.instrumentDescription }}</td>
            <td>{{ portfolio.askPrice }}</td>
            <td>{{ portfolio.bidPrice }}</td>
            <td [ngClass]="{'profit': isProfit(portfolio), 'loss': !isProfit(portfolio)}">
              {{ calculateProfitLossPercentage(portfolio) }}%
            </td>
          </tr>
        </tbody>
      </table>
      
</div>
